{"ast":null,"code":"import { ALL_ITEMS, LOADING, PEOPLE, PLANETS, RESOURCE, STARSHIPS } from \"./LayoutConstants\";\nimport { getItemsInfo } from \"../../../utils/api\";\nimport { allItems, expectedResource, loading, peopleItems, planetsItems, starshipsItems } from \"./LayoutActions\";\nimport { error } from \"../../../utils/helpers/infoMessages\";\nimport { takeEvery, put, call } from 'redux-saga/effects';\nconst initialState = {\n  items: [],\n  people: [],\n  planets: [],\n  starships: [],\n  isLoading: false,\n  resource: ''\n};\n\nconst LayoutReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ALL_ITEMS:\n      return { ...state,\n        items: state.items.concat(action.payload)\n      };\n\n    case PEOPLE:\n      return { ...state,\n        people: state.people.concat(action.payload)\n      };\n\n    case PLANETS:\n      return { ...state,\n        planets: state.planets.concat(action.payload)\n      };\n\n    case STARSHIPS:\n      console.log(action.payload);\n      return { ...state,\n        starships: state.starships.concat(action.payload)\n      };\n\n    case RESOURCE:\n      return { ...state,\n        resource: action.payload\n      };\n\n    case LOADING:\n      return { ...state,\n        isLoading: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = LayoutReducer;\nexport const getItems = (resource, page) => dispatch => {\n  return {\n    resource,\n    page\n  }; // dispatch(loading(true))\n  // getItemsInfo(resource, page)\n  //     .then( item => {\n  //         if (resource === 'people') {\n  //             dispatch(peopleItems(item.data.results));\n  //         }\n  //         if (resource === 'planets') {\n  //             dispatch(planetsItems(item.data.results));\n  //         }\n  //         if (resource === 'starships') {\n  //             dispatch(starshipsItems(item.data.results));\n  //         }\n  //\n  //         dispatch(allItems(item.data.results));\n  //     })\n  //     .catch(() => error('Something is wrong'))\n  //     .finally(() => dispatch(loading(false)))\n};\nexport function* getItemsWatcher() {\n  yield put({\n    type: ALL_ITEMS,\n    sagaWorker\n  });\n}\n\nfunction* sagaWorker() {\n  getItems();\n  const payload = yield call(getItemsInfo(resource, page));\n  yield put({\n    type: ALL_ITEMS,\n    payload\n  });\n}\n\nexport const setResource = resource => dispatch => {\n  dispatch(expectedResource(resource));\n};\nexport default LayoutReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"LayoutReducer\");","map":{"version":3,"sources":["E:/Projects/react-project/src/redux/session/Layout/LayoutReducer.js"],"names":["ALL_ITEMS","LOADING","PEOPLE","PLANETS","RESOURCE","STARSHIPS","getItemsInfo","allItems","expectedResource","loading","peopleItems","planetsItems","starshipsItems","error","takeEvery","put","call","initialState","items","people","planets","starships","isLoading","resource","LayoutReducer","state","action","type","concat","payload","console","log","getItems","page","dispatch","getItemsWatcher","sagaWorker","setResource"],"mappings":"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","sourcesContent":["import {ALL_ITEMS, LOADING, PEOPLE, PLANETS, RESOURCE, STARSHIPS} from \"./LayoutConstants\";\r\nimport {getItemsInfo} from \"../../../utils/api\";\r\nimport {allItems, expectedResource, loading, peopleItems, planetsItems, starshipsItems} from \"./LayoutActions\";\r\nimport {error} from \"../../../utils/helpers/infoMessages\";\r\nimport {takeEvery, put, call} from 'redux-saga/effects'\r\n\r\n\r\nconst initialState = {\r\n    items:[],\r\n    people: [],\r\n    planets:[],\r\n    starships:[],\r\n    isLoading: false,\r\n    resource: ''\r\n};\r\n\r\nconst LayoutReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ALL_ITEMS:\r\n            return {\r\n                ...state,\r\n                items: state.items.concat(action.payload)\r\n            };\r\n        case PEOPLE:\r\n            return {\r\n                ...state,\r\n                people: state.people.concat(action.payload)\r\n            };\r\n        case PLANETS:\r\n            return {\r\n                ...state,\r\n                planets: state.planets.concat(action.payload)\r\n            };\r\n        case STARSHIPS:\r\n            console.log(action.payload)\r\n            return {\r\n                ...state,\r\n                starships: state.starships.concat(action.payload)\r\n            };\r\n        case RESOURCE:\r\n            return {\r\n                ...state,\r\n                resource: action.payload,\r\n            };\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const getItems = (resource, page) => dispatch => {\r\n    return {resource, page}\r\n    // dispatch(loading(true))\r\n    // getItemsInfo(resource, page)\r\n    //     .then( item => {\r\n    //         if (resource === 'people') {\r\n    //             dispatch(peopleItems(item.data.results));\r\n    //         }\r\n    //         if (resource === 'planets') {\r\n    //             dispatch(planetsItems(item.data.results));\r\n    //         }\r\n    //         if (resource === 'starships') {\r\n    //             dispatch(starshipsItems(item.data.results));\r\n    //         }\r\n    //\r\n    //         dispatch(allItems(item.data.results));\r\n    //     })\r\n    //     .catch(() => error('Something is wrong'))\r\n    //     .finally(() => dispatch(loading(false)))\r\n}\r\n\r\n\r\n\r\nexport function* getItemsWatcher () {\r\n    yield put({type:ALL_ITEMS, sagaWorker})\r\n\r\n}\r\n\r\nfunction* sagaWorker() {\r\n    getItems()\r\n\r\n    const payload = yield call(getItemsInfo(resource, page))\r\n    yield put({type: ALL_ITEMS, payload})\r\n\r\n}\r\n\r\n\r\nexport const setResource = resource => dispatch => {\r\n            dispatch(expectedResource(resource));\r\n}\r\nexport default LayoutReducer;\r\n"]},"metadata":{},"sourceType":"module"}